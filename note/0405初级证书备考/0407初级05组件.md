### 简单页面

https://developer.huawei.com/consumer/cn/training/course/slightMooc/C101717497398588123



### 基本组成

```
UI描述 build(){...}

自定义组件 
@Component 
struct List {build(){...}}

系统组件 Column, Text, Divider, Button

属性方法 width(), height(), backgroundColor()

事件方法 onClick()
```

封装

```
封装UI描述 @Builder/@BuilderParam
封装属性方法 @Styles/@Extend
```



#### @Builder注意点1

只能传一个参数，引用类型传入，不可以在里面改传入的参数



#### @Builder注意点2

不一定要写在`struct`里面，可以写在外面，全局使用

正确用法

```typescript
class GlobalTmp {
  str_value: string = 'Hello';
  num_value: number = 0;
}
@Builder function overBuilder(param: GlobalTmp) {
  Column() {
    Text(`str_value: ${param.str_value}`)
    Text(`num: ${param.num_value}`)
  }
}

@Entry
@Component
struct Parent {
  @State objParam: GlobalTmp = new GlobalTmp();
  build() {
    Column() {
      Text('通过调用@Builder渲染UI界面')
        .fontSize(20)
      overBuilder({str_value: this.objParam.str_value, num_value: this.objParam.num_value})
      Line()
        .width('100%')
        .height(10)
        .backgroundColor('#000000').margin(10)
      Button('点击改变参数值').onClick(() => {
        this.objParam.str_value = 'Hello World';
        this.objParam.num_value = 1;
      })
    }
  }
}
```



#### `@BuilderParam`注意点

https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-builderparam-V5#%E8%A3%85%E9%A5%B0%E5%99%A8%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E

这就是一个插槽，用于在子组件里面添加`UI描述`

```typescript
class Tmp{
  label: string = '';
}

@Builder function overBuilder($$: Tmp) {
  Text($$.label)
    .width(400)
    .height(50)
    .backgroundColor(Color.Green)
}

@Component
struct Child {
  label: string = 'Child';
  @Builder customBuilder() {};
  // 无参数类型，指向的customBuilder也是无参数类型
  // 解释void=this.customBuilder，这里指的是返回值是void，并调用this.customBuilder
  @BuilderParam customBuilderParam: () => void = this.customBuilder;
  // 有参数类型，指向的overBuilder也是有参数类型的方法
  @BuilderParam customOverBuilderParam: ($$: Tmp) => void = overBuilder;

  build() {
    Column() {
      this.customBuilderParam()
      this.customOverBuilderParam({label: 'global Builder label' } )
    }
  }
}

@Entry
@Component
struct Parent {
  label: string = 'Parent';

  @Builder componentBuilder() {
    Text(`${this.label}`)
  }

  build() {
    Column() {
      this.componentBuilder()
      Child({ customBuilderParam: this.componentBuilder, customOverBuilderParam: overBuilder })
    }
  }
}
```



#### @Styles

记得写在`build`外面

```typescript
@State containBgColor:string = '#F26A62'
@Styles
 processingContain() {
    .height(128)
    .width(168)
    .backgroundColor(this.containBgColor)
    .borderRadius(5)
    .padding(10)
    .onClick(()=>{
      this.containBgColor = `#888`
   })


Column() {
      Text('进行中').fontWeight(FontWeight.Bold).fontSize(18)
      Text('0任务').fontWeight(FontWeight.Bold).fontSize(18)
}.processingContain()
```



#### @Extend

仅支持全局定义，不支持在组件内定义

比styles灵活，支持传参数

```typescript
@Extend(Text) function fancy (fontSize: number) {
  .fontColor(Color.Red)
  .fontSize(fontSize)
}

@Entry
@Component
struct FancyUse {
  @State fontSizeValue: number = 20
  build() {
    Row({ space: 10 }) {
      Text('Fancy')
        .fancy(this.fontSizeValue)
        .onClick(() => {
          this.fontSizeValue = 30
        })
    }
  }
}
```



### 组件注意点

### Button



